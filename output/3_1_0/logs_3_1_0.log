VERSION: 3_1_0

Total number of .java files: 5990
Number of .java files in the "files_with_bugs_3_1_0.json": 354
Number of .java files with bug in the filtered_dataset: 324
Missing .java files in the filtered_dataset:
    ZooKeeperTokenStoreTestBase.java
    InformationSchemaWithPrivilegeTestBase.java
    SSLZookeeperFactory.java
    MyConverterParent.java
    TestETypeConverter.java
    TestParquetTimestampsHive2Compatibility.java
    AbstractSparkClient.java
    VectorPTFEvaluatorBytesCountDistinct.java
    VectorPTFEvaluatorCountDistinct.java
    VectorPTFEvaluatorDecimalCountDistinct.java
    VectorPTFEvaluatorDoubleCountDistinct.java
    VectorPTFEvaluatorLongCountDistinct.java
    VectorPTFEvaluatorTimestampCountDistinct.java
    TestLazyBinaryStruct.java
    CommandAuthorizerV1.java
    Msck.java
    MetaStoreServerUtils.java
    TezTotalOrderPartitioner.java
    TestTezTotalOrderPartitioner.java
    SkippingTextInputFormat.java
    TestLineBuffer.java
    TestSkippingTextInputFormat.java
    AbstractTestJdbcGenericUDTFGetSplits.java
    TestJdbcGenericUDTFGetSplits2.java
    TestJdbcWithMiniLlapVectorArrow.java
    TestJdbcWithMiniLlapVectorArrowBatch.java
    TestNewGetSplitsFormat.java
    TestNewGetSplitsFormatReturnPath.java
    VectorTopNKeyOperator.java
    CastCharToBinary.java
    GenericUDFFromUnixTime.java
    AggregationBase.java
    TestVectorArithmetic.java
    TestVectorBetweenIn.java
    TestVectorCoalesceElt.java
    TestVectorFilterCompare.java
    TestVectorIndex.java
    TestVectorNegative.java
    TestVectorNull.java
    TestVectorStructField.java
    PreUpgradeTool.java
    RunOptions.java
    TestPreUpgradeTool.java
    TestReplicationScenariosExternalTables.java
    TestReplicationScenariosIncrementalLoadAcidTables.java
    ReplExternalTables.java
    IncrementalLoadEventsIterator.java
    IncrementalLoadTasksBuilder.java
    UpdatePartColStatHandler.java
    UpdateTableColStatHandler.java
    DeSerializer.java
    TestMetaStoreServerUtils.java
    MaterializationsInvalidationCache.java

Number of combined rows for current and previous versions without duplicates
Initial number of metric columns: 54
Initial number of rows: 5990
Total number of bugs: 324

Initial variable columns: 54

Drop all NaN columns
Remaining columns (54):
    AvgCountLine
    AvgCountLineBlank
    AvgCountLineCode
    AvgCountLineComment
    AvgCyclomatic
    AvgCyclomaticModified
    AvgCyclomaticStrict
    AvgEssential
    CountClassBase
    CountClassCoupled
    CountClassDerived
    CountDeclClass
    CountDeclClassMethod
    CountDeclClassVariable
    CountDeclFunction
    CountDeclInstanceMethod
    CountDeclInstanceVariable
    CountDeclMethod
    CountDeclMethodDefault
    CountDeclMethodPrivate
    CountDeclMethodProtected
    CountDeclMethodPublic
    CountLine
    CountLineBlank
    CountLineCode
    CountLineCodeDecl
    CountLineCodeExe
    CountLineComment
    CountSemicolon
    CountStmt
    CountStmtDecl
    CountStmtExe
    MaxCyclomatic
    MaxCyclomaticModified
    MaxCyclomaticStrict
    MaxInheritanceTree
    PercentLackOfCohesion
    RatioCommentToCode
    SumCyclomatic
    SumCyclomaticModified
    SumCyclomaticStrict
    SumEssential
    CountInputMin
    CountInputMean
    CountInputMax
    CountOutputMin
    CountOutputMean
    CountOutputMax
    CountPathMin
    CountPathMean-divided-by-1,000,000
    CountPathMax-divided-by-1,000,000
    MaxNestingMin
    MaxNestingMean
    MaxNestingMax
Dropped all NaN columns (0):

Columns with missing values:
    AvgCountLine: 0
    AvgCountLineBlank: 0
    AvgCountLineCode: 0
    AvgCountLineComment: 0
    AvgCyclomatic: 0
    AvgCyclomaticModified: 0
    AvgCyclomaticStrict: 0
    AvgEssential: 0
    CountClassBase: 23
    CountClassCoupled: 23
    CountClassDerived: 23
    CountDeclClass: 0
    CountDeclClassMethod: 0
    CountDeclClassVariable: 0
    CountDeclFunction: 0
    CountDeclInstanceMethod: 0
    CountDeclInstanceVariable: 0
    CountDeclMethod: 0
    CountDeclMethodDefault: 0
    CountDeclMethodPrivate: 0
    CountDeclMethodProtected: 0
    CountDeclMethodPublic: 0
    CountLine: 0
    CountLineBlank: 0
    CountLineCode: 0
    CountLineCodeDecl: 0
    CountLineCodeExe: 0
    CountLineComment: 0
    CountSemicolon: 0
    CountStmt: 0
    CountStmtDecl: 0
    CountStmtExe: 0
    MaxCyclomatic: 0
    MaxCyclomaticModified: 0
    MaxCyclomaticStrict: 0
    MaxInheritanceTree: 23
    PercentLackOfCohesion: 23
    RatioCommentToCode: 0
    SumCyclomatic: 0
    SumCyclomaticModified: 0
    SumCyclomaticStrict: 0
    SumEssential: 0
    CountInputMin: 23
    CountInputMean: 23
    CountInputMax: 23
    CountOutputMin: 23
    CountOutputMean: 23
    CountOutputMax: 23
    CountPathMin: 23
    CountPathMean-divided-by-1,000,000: 23
    CountPathMax-divided-by-1,000,000: 23
    MaxNestingMin: 23
    MaxNestingMean: 23
    MaxNestingMax: 23
Total rows with missing values removed: 23
Total rows remaining: 5967

Correlated columns to be dropped:
    AvgCountLineBlank, correlated to: ['AvgCountLine']
    AvgCountLineCode, correlated to: ['AvgCountLine', 'AvgCountLineBlank']
    AvgCyclomatic, correlated to: ['AvgCountLineCode']
    AvgCyclomaticModified, correlated to: ['AvgCyclomatic']
    AvgCyclomaticStrict, correlated to: ['AvgCyclomatic', 'AvgCyclomaticModified']
    CountDeclClassMethod, correlated to: ['CountDeclClass']
    CountDeclClassVariable, correlated to: ['CountDeclClass', 'CountDeclClassMethod']
    CountDeclFunction, correlated to: ['CountDeclClass', 'CountDeclClassMethod', 'CountDeclClassVariable']
    CountDeclInstanceMethod, correlated to: ['CountDeclClass', 'CountDeclClassMethod', 'CountDeclClassVariable', 'CountDeclFunction']
    CountDeclInstanceVariable, correlated to: ['CountDeclClass', 'CountDeclClassMethod', 'CountDeclClassVariable', 'CountDeclFunction', 'CountDeclInstanceMethod']
    CountDeclMethod, correlated to: ['CountDeclClass', 'CountDeclClassMethod', 'CountDeclClassVariable', 'CountDeclFunction', 'CountDeclInstanceMethod', 'CountDeclInstanceVariable']
    CountDeclMethodDefault, correlated to: ['CountDeclClassMethod', 'CountDeclClassVariable', 'CountDeclFunction', 'CountDeclInstanceMethod', 'CountDeclMethod']
    CountDeclMethodPrivate, correlated to: ['CountDeclClass', 'CountDeclClassMethod', 'CountDeclClassVariable', 'CountDeclFunction', 'CountDeclInstanceMethod', 'CountDeclInstanceVariable', 'CountDeclMethod']
    CountDeclMethodProtected, correlated to: ['CountDeclClass', 'CountDeclClassMethod', 'CountDeclClassVariable', 'CountDeclFunction', 'CountDeclInstanceMethod', 'CountDeclInstanceVariable', 'CountDeclMethod', 'CountDeclMethodPrivate']
    CountDeclMethodPublic, correlated to: ['CountDeclClass', 'CountDeclClassMethod', 'CountDeclClassVariable', 'CountDeclFunction', 'CountDeclInstanceMethod', 'CountDeclInstanceVariable', 'CountDeclMethod', 'CountDeclMethodDefault', 'CountDeclMethodPrivate', 'CountDeclMethodProtected']
    CountLine, correlated to: ['CountDeclClass', 'CountDeclClassMethod', 'CountDeclClassVariable', 'CountDeclFunction', 'CountDeclInstanceMethod', 'CountDeclInstanceVariable', 'CountDeclMethod', 'CountDeclMethodDefault', 'CountDeclMethodPrivate', 'CountDeclMethodProtected', 'CountDeclMethodPublic']
    CountLineBlank, correlated to: ['CountDeclClass', 'CountDeclClassMethod', 'CountDeclClassVariable', 'CountDeclFunction', 'CountDeclInstanceMethod', 'CountDeclInstanceVariable', 'CountDeclMethod', 'CountDeclMethodDefault', 'CountDeclMethodPrivate', 'CountDeclMethodProtected', 'CountDeclMethodPublic', 'CountLine']
    CountLineCode, correlated to: ['CountDeclClass', 'CountDeclClassMethod', 'CountDeclClassVariable', 'CountDeclFunction', 'CountDeclInstanceMethod', 'CountDeclInstanceVariable', 'CountDeclMethod', 'CountDeclMethodDefault', 'CountDeclMethodPrivate', 'CountDeclMethodProtected', 'CountDeclMethodPublic', 'CountLine', 'CountLineBlank']
    CountLineCodeDecl, correlated to: ['CountDeclClass', 'CountDeclClassMethod', 'CountDeclClassVariable', 'CountDeclFunction', 'CountDeclInstanceMethod', 'CountDeclInstanceVariable', 'CountDeclMethod', 'CountDeclMethodDefault', 'CountDeclMethodPrivate', 'CountDeclMethodProtected', 'CountDeclMethodPublic', 'CountLine', 'CountLineBlank', 'CountLineCode']
    CountLineCodeExe, correlated to: ['CountDeclClass', 'CountDeclClassMethod', 'CountDeclClassVariable', 'CountDeclFunction', 'CountDeclInstanceMethod', 'CountDeclInstanceVariable', 'CountDeclMethod', 'CountDeclMethodDefault', 'CountDeclMethodPrivate', 'CountDeclMethodProtected', 'CountDeclMethodPublic', 'CountLine', 'CountLineBlank', 'CountLineCode', 'CountLineCodeDecl']
    CountLineComment, correlated to: ['CountDeclClass', 'CountDeclClassMethod', 'CountDeclClassVariable', 'CountDeclFunction', 'CountDeclInstanceMethod', 'CountDeclInstanceVariable', 'CountDeclMethod', 'CountDeclMethodDefault', 'CountDeclMethodPrivate', 'CountDeclMethodProtected', 'CountDeclMethodPublic', 'CountLine', 'CountLineBlank', 'CountLineCode', 'CountLineCodeDecl', 'CountLineCodeExe']
    CountSemicolon, correlated to: ['CountDeclClass', 'CountDeclClassMethod', 'CountDeclClassVariable', 'CountDeclFunction', 'CountDeclInstanceMethod', 'CountDeclInstanceVariable', 'CountDeclMethod', 'CountDeclMethodDefault', 'CountDeclMethodPrivate', 'CountDeclMethodProtected', 'CountDeclMethodPublic', 'CountLine', 'CountLineBlank', 'CountLineCode', 'CountLineCodeDecl', 'CountLineCodeExe', 'CountLineComment']
    CountStmt, correlated to: ['CountDeclClass', 'CountDeclClassMethod', 'CountDeclClassVariable', 'CountDeclFunction', 'CountDeclInstanceMethod', 'CountDeclInstanceVariable', 'CountDeclMethod', 'CountDeclMethodDefault', 'CountDeclMethodPrivate', 'CountDeclMethodProtected', 'CountDeclMethodPublic', 'CountLine', 'CountLineBlank', 'CountLineCode', 'CountLineCodeDecl', 'CountLineCodeExe', 'CountLineComment', 'CountSemicolon']
    CountStmtDecl, correlated to: ['CountDeclClass', 'CountDeclClassMethod', 'CountDeclClassVariable', 'CountDeclFunction', 'CountDeclInstanceMethod', 'CountDeclInstanceVariable', 'CountDeclMethod', 'CountDeclMethodDefault', 'CountDeclMethodPrivate', 'CountDeclMethodProtected', 'CountDeclMethodPublic', 'CountLine', 'CountLineBlank', 'CountLineCode', 'CountLineCodeDecl', 'CountLineCodeExe', 'CountLineComment', 'CountSemicolon', 'CountStmt']
    CountStmtExe, correlated to: ['CountDeclClass', 'CountDeclClassMethod', 'CountDeclClassVariable', 'CountDeclFunction', 'CountDeclInstanceMethod', 'CountDeclInstanceVariable', 'CountDeclMethod', 'CountDeclMethodDefault', 'CountDeclMethodPrivate', 'CountDeclMethodProtected', 'CountDeclMethodPublic', 'CountLine', 'CountLineBlank', 'CountLineCode', 'CountLineCodeDecl', 'CountLineCodeExe', 'CountLineComment', 'CountSemicolon', 'CountStmt', 'CountStmtDecl']
    MaxCyclomatic, correlated to: ['AvgCyclomatic', 'AvgCyclomaticStrict']
    MaxCyclomaticModified, correlated to: ['MaxCyclomatic']
    MaxCyclomaticStrict, correlated to: ['MaxCyclomatic', 'MaxCyclomaticModified']
    SumCyclomatic, correlated to: ['CountDeclClass', 'CountDeclClassMethod', 'CountDeclClassVariable', 'CountDeclFunction', 'CountDeclInstanceMethod', 'CountDeclInstanceVariable', 'CountDeclMethod', 'CountDeclMethodDefault', 'CountDeclMethodPrivate', 'CountDeclMethodProtected', 'CountDeclMethodPublic', 'CountLine', 'CountLineBlank', 'CountLineCode', 'CountLineCodeDecl', 'CountLineCodeExe', 'CountLineComment', 'CountSemicolon', 'CountStmt', 'CountStmtDecl', 'CountStmtExe']
    SumCyclomaticModified, correlated to: ['CountDeclClass', 'CountDeclClassMethod', 'CountDeclClassVariable', 'CountDeclFunction', 'CountDeclInstanceMethod', 'CountDeclInstanceVariable', 'CountDeclMethod', 'CountDeclMethodDefault', 'CountDeclMethodPrivate', 'CountDeclMethodProtected', 'CountDeclMethodPublic', 'CountLine', 'CountLineBlank', 'CountLineCode', 'CountLineCodeDecl', 'CountLineCodeExe', 'CountLineComment', 'CountSemicolon', 'CountStmt', 'CountStmtDecl', 'CountStmtExe', 'SumCyclomatic']
    SumCyclomaticStrict, correlated to: ['CountDeclClass', 'CountDeclClassMethod', 'CountDeclClassVariable', 'CountDeclFunction', 'CountDeclInstanceMethod', 'CountDeclInstanceVariable', 'CountDeclMethod', 'CountDeclMethodDefault', 'CountDeclMethodPrivate', 'CountDeclMethodProtected', 'CountDeclMethodPublic', 'CountLine', 'CountLineBlank', 'CountLineCode', 'CountLineCodeDecl', 'CountLineCodeExe', 'CountLineComment', 'CountSemicolon', 'CountStmt', 'CountStmtDecl', 'CountStmtExe', 'SumCyclomatic', 'SumCyclomaticModified']
    SumEssential, correlated to: ['CountDeclClass', 'CountDeclClassMethod', 'CountDeclClassVariable', 'CountDeclFunction', 'CountDeclInstanceMethod', 'CountDeclInstanceVariable', 'CountDeclMethod', 'CountDeclMethodDefault', 'CountDeclMethodPrivate', 'CountDeclMethodProtected', 'CountDeclMethodPublic', 'CountLine', 'CountLineBlank', 'CountLineCode', 'CountLineCodeDecl', 'CountLineCodeExe', 'CountLineComment', 'CountSemicolon', 'CountStmt', 'CountStmtDecl', 'CountStmtExe', 'SumCyclomatic', 'SumCyclomaticModified', 'SumCyclomaticStrict']
    CountOutputMean, correlated to: ['AvgCountLine', 'AvgCountLineCode']
    MaxNestingMean, correlated to: ['AvgCyclomaticModified']

Remove outliers:
    Initial number of rows in the filtered_dataset: 5967
    Initial number of .java files with bug in the filtered_dataset: 324
    IQR_method n argument: 20
    Total number of outliers is: 0
    Final number of rows in the filtered_dataset: 5967
    Final number of .java files with bug in the filtered_dataset: 324

Drop same value columns after outliers removal
Initial columns: 20
Remaining columns (20):
    AvgCountLine
    AvgCountLineComment
    AvgEssential
    CountClassBase
    CountClassCoupled
    CountClassDerived
    CountDeclClass
    MaxInheritanceTree
    PercentLackOfCohesion
    RatioCommentToCode
    CountInputMin
    CountInputMean
    CountInputMax
    CountOutputMin
    CountOutputMax
    CountPathMin
    CountPathMean-divided-by-1,000,000
    CountPathMax-divided-by-1,000,000
    MaxNestingMin
    MaxNestingMax
Dropped same value columns (0):

Variables range:
    AvgCountLine: 0.0 - 355.0
    AvgCountLineComment: 0.0 - 38.0
    AvgEssential: 0.0 - 13.0
    CountClassBase: 0.0 - 5.0
    CountClassCoupled: 0.0 - 144.0
    CountClassDerived: 0.0 - 37.0
    CountDeclClass: 1.0 - 3321.0
    MaxInheritanceTree: 0.0 - 8.0
    PercentLackOfCohesion: 0.0 - 100.0
    RatioCommentToCode: 0.0 - 9.7
    CountInputMin: 0.0 - 41.0
    CountInputMean: 0.0 - 58.0
    CountInputMax: 0.0 - 435.0
    CountOutputMin: 0.0 - 73.0
    CountOutputMax: 0.0 - 209.0
    CountPathMin: 0.0 - 464.0
    CountPathMean-divided-by-1,000,000: 0.0 - 125.0
    CountPathMax-divided-by-1,000,000: 0.0 - 1000.0
    MaxNestingMin: 0.0 - 6.0
    MaxNestingMax: 0.0 - 11.0

logistic_regression_clf best params: {'C': 1.0, 'class_weight': None, 'dual': False, 'fit_intercept': True, 'intercept_scaling': 1, 'l1_ratio': None, 'max_iter': 300, 'multi_class': 'deprecated', 'n_jobs': None, 'penalty': 'l2', 'random_state': None, 'solver': 'lbfgs', 'tol': 0.0001, 'verbose': 0, 'warm_start': False}
logistic_regression_clf coefficients: [-0.00501577  0.02682462 -0.15385578 -0.2727161   0.03887055  0.01011225
  0.00715649 -0.20884785  0.00496008 -0.49591034 -0.15274992  0.02104777
  0.00192743 -0.02319622  0.00563159 -0.49764458 -0.38843552 -0.00061196
 -0.03323237  0.1873828 ]
logistic_regression_clf intercept_: -2.5876713438873473
Logistic Regression Cross Validation Precision scores are: [0.         0.5        0.5        1.         0.66666667 0.5
 0.33333333 0.         0.         1.        ]
Logistic Regression Average Cross Validation Precision score: 0.45
Logistic Regression Cross Validation Precision standard deviation: 0.3772054488170657
Logistic Regression Cross Validation Recall scores are: [0.         0.05263158 0.05       0.04166667 0.08695652 0.05555556
 0.03846154 0.         0.         0.04166667]
Logistic Regression Average Cross Validation Recall score: 0.036693852803692625
Logistic Regression Cross Validation Recall standard deviation: 0.02868422593189383
Logistic Regression classifier performance:
precision: [0.94621849 0.16666667]
recall: [0.99704841 0.01030928]
fscore: [0.97096867 0.01941748]
support: [1694   97]

Logistic Regression classifier performance:
precision: 0.16666666666666666
recall: 0.010309278350515464
fscore: 0.019417475728155338
support: None

Logistic Regression AUC: 0.787217468567047

10 most relevant features from SelectKBest with mutual_info_classif
    CountClassCoupled
    CountClassDerived
    CountDeclClass
    MaxInheritanceTree
    PercentLackOfCohesion
    CountInputMean
    CountInputMax
    CountOutputMax
    CountPathMax-divided-by-1,000,000
    MaxNestingMax
Alternative nomogram summary
                           Logit Regression Results                           
==============================================================================
Dep. Variable:                   Bugs   No. Observations:                 4176
Model:                          Logit   Df Residuals:                     4155
Method:                           MLE   Df Model:                           20
Date:                Mon, 02 Dec 2024   Pseudo R-squ.:                  0.1440
Time:                        22:37:37   Log-Likelihood:                -754.83
converged:                       True   LL-Null:                       -881.78
Covariance Type:            nonrobust   LLR p-value:                 1.877e-42
======================================================================================================
                                         coef    std err          z      P>|z|      [0.025      0.975]
------------------------------------------------------------------------------------------------------
const                                 -3.0397      0.394     -7.713      0.000      -3.812      -2.267
AvgCountLine                          -0.0092      0.010     -0.940      0.347      -0.028       0.010
AvgCountLineComment                    0.0416      0.038      1.095      0.273      -0.033       0.116
AvgEssential                          -0.1975      0.117     -1.694      0.090      -0.426       0.031
CountClassBase                        -0.2218      0.161     -1.375      0.169      -0.538       0.094
CountClassCoupled                      0.0391      0.007      5.950      0.000       0.026       0.052
CountClassDerived                      0.0191      0.044      0.431      0.667      -0.068       0.106
CountDeclClass                         0.0080      0.005      1.530      0.126      -0.002       0.018
MaxInheritanceTree                    -0.1558      0.102     -1.522      0.128      -0.356       0.045
PercentLackOfCohesion                  0.0038      0.003      1.351      0.177      -0.002       0.009
RatioCommentToCode                    -0.4159      0.141     -2.952      0.003      -0.692      -0.140
CountInputMin                         -0.2239      0.090     -2.498      0.013      -0.400      -0.048
CountInputMean                         0.0308      0.033      0.930      0.352      -0.034       0.096
CountInputMax                          0.0018      0.002      0.900      0.368      -0.002       0.006
CountOutputMin                         0.0074      0.056      0.132      0.895      -0.102       0.117
CountOutputMax                         0.0046      0.004      1.027      0.304      -0.004       0.013
CountPathMin                          -0.1808      0.204     -0.885      0.376      -0.581       0.219
CountPathMean-divided-by-1,000,000    -0.5348      0.559     -0.956      0.339      -1.631       0.562
CountPathMax-divided-by-1,000,000     -0.0004      0.001     -0.480      0.631      -0.002       0.001
MaxNestingMin                         -0.6280      0.635     -0.989      0.323      -1.873       0.617
MaxNestingMax                          0.2382      0.049      4.843      0.000       0.142       0.335
======================================================================================================

random_forest_clf best params: {'bootstrap': True, 'ccp_alpha': 0.0, 'class_weight': None, 'criterion': 'gini', 'max_depth': 8, 'max_features': 'sqrt', 'max_leaf_nodes': None, 'max_samples': None, 'min_impurity_decrease': 0.0, 'min_samples_leaf': 1, 'min_samples_split': 2, 'min_weight_fraction_leaf': 0.0, 'monotonic_cst': None, 'n_estimators': 100, 'n_jobs': None, 'oob_score': False, 'random_state': 0, 'verbose': 0, 'warm_start': False}
Random Forest Cross Validation Precision scores are: [1.         0.66666667 0.         0.         0.66666667 1.
 0.         1.         0.         1.        ]
Random Forest Average Cross Validation Precision score: 0.5333333333333333
Random Forest Cross Validation Precision standard deviation: 0.4766135686561604
Random Forest Cross Validation Recall scores are: [0.05       0.10526316 0.         0.         0.08695652 0.05555556
 0.         0.07407407 0.         0.04166667]
Random Forest Average Cross Validation Recall score: 0.04135159759301636
Random Forest Cross Validation Recall standard deviation: 0.039932891152423246
Random Forest classifier performance:
precision: [0.95008413 1.        ]
recall: [1.         0.08247423]
fscore: [0.97440322 0.15238095]
support: [1694   97]

Random Forest classifier performance:
precision: 1.0
recall: 0.08247422680412371
fscore: 0.1523809523809524
support: None

Random Forest AUC: 0.831412261590331

