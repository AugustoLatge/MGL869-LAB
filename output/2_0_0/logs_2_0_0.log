VERSION: 2_0_0

Total number of .java files: 4428
Number of .java files in the "files_with_bugs_2_0_0.json": 655
Number of .java files with bug in the filtered_dataset: 640
Missing .java files in the filtered_dataset:
    SessionStream.java
    TestParseDriver.java
    TestParseDriverIntervals.java
    TestJdbcWithDBTokenStore.java
    MetastoreDelegationTokenManager.java
    CountDistinctRewriteProc.java
    DagJsonParser.java
    CalciteViewSemanticException.java
    GenericUDFOPNotEqualNS.java
    NoReconnect.java
    TestTxnHandlerNoConnectionPool.java
    TestIndexType.java
    JavaDataModelTest.java
    TestHiveMetaStoreGetMetaConf.java
    TestTezWorkConcurrency.java
    DataReaderFactory.java
    MetadataReaderFactory.java
    DataReaderProperties.java
    DefaultMetadataReaderFactory.java
    MetadataReaderProperties.java
    TestDataReaderProperties.java
    TestMetadataReaderProperties.java
    DefaultDataReaderFactory.java
    TestServiceDiscoveryWithMiniHS2.java
    TransactionalValidationListener.java
    HttpTokenAuthInterceptor.java
    HiveDelegationTokenManager.java
    HiveRexUtil.java
    HiveReduceExpressionsRule.java
    LlapDaemonProtocolClientProxy.java
    QueryFileCleaner.java
    Hadoop20SShims.java
    HiveLimit.java

Number of combined rows for current and previous versions without duplicates
Initial number of metric columns: 54
Initial number of rows: 4428
Total number of bugs: 640

Initial variable columns: 54

Drop all NaN columns
Remaining columns (54):
    AvgCountLine
    AvgCountLineBlank
    AvgCountLineCode
    AvgCountLineComment
    AvgCyclomatic
    AvgCyclomaticModified
    AvgCyclomaticStrict
    AvgEssential
    CountClassBase
    CountClassCoupled
    CountClassDerived
    CountDeclClass
    CountDeclClassMethod
    CountDeclClassVariable
    CountDeclFunction
    CountDeclInstanceMethod
    CountDeclInstanceVariable
    CountDeclMethod
    CountDeclMethodDefault
    CountDeclMethodPrivate
    CountDeclMethodProtected
    CountDeclMethodPublic
    CountLine
    CountLineBlank
    CountLineCode
    CountLineCodeDecl
    CountLineCodeExe
    CountLineComment
    CountSemicolon
    CountStmt
    CountStmtDecl
    CountStmtExe
    MaxCyclomatic
    MaxCyclomaticModified
    MaxCyclomaticStrict
    MaxInheritanceTree
    PercentLackOfCohesion
    RatioCommentToCode
    SumCyclomatic
    SumCyclomaticModified
    SumCyclomaticStrict
    SumEssential
    CountInputMin
    CountInputMean
    CountInputMax
    CountOutputMin
    CountOutputMean
    CountOutputMax
    CountPathMin-divided-by-10,000
    CountPathMean-divided-by-100,000
    CountPathMax-divided-by-1,000,000
    MaxNestingMin
    MaxNestingMean
    MaxNestingMax
Dropped all NaN columns (0):

Columns with missing values:
    AvgCountLine: 0
    AvgCountLineBlank: 0
    AvgCountLineCode: 0
    AvgCountLineComment: 0
    AvgCyclomatic: 0
    AvgCyclomaticModified: 0
    AvgCyclomaticStrict: 0
    AvgEssential: 0
    CountClassBase: 13
    CountClassCoupled: 13
    CountClassDerived: 13
    CountDeclClass: 0
    CountDeclClassMethod: 0
    CountDeclClassVariable: 0
    CountDeclFunction: 0
    CountDeclInstanceMethod: 0
    CountDeclInstanceVariable: 0
    CountDeclMethod: 0
    CountDeclMethodDefault: 0
    CountDeclMethodPrivate: 0
    CountDeclMethodProtected: 0
    CountDeclMethodPublic: 0
    CountLine: 0
    CountLineBlank: 0
    CountLineCode: 0
    CountLineCodeDecl: 0
    CountLineCodeExe: 0
    CountLineComment: 0
    CountSemicolon: 0
    CountStmt: 0
    CountStmtDecl: 0
    CountStmtExe: 0
    MaxCyclomatic: 0
    MaxCyclomaticModified: 0
    MaxCyclomaticStrict: 0
    MaxInheritanceTree: 13
    PercentLackOfCohesion: 13
    RatioCommentToCode: 0
    SumCyclomatic: 0
    SumCyclomaticModified: 0
    SumCyclomaticStrict: 0
    SumEssential: 0
    CountInputMin: 13
    CountInputMean: 13
    CountInputMax: 13
    CountOutputMin: 13
    CountOutputMean: 13
    CountOutputMax: 13
    CountPathMin-divided-by-10,000: 13
    CountPathMean-divided-by-100,000: 13
    CountPathMax-divided-by-1,000,000: 13
    MaxNestingMin: 13
    MaxNestingMean: 13
    MaxNestingMax: 13
Total rows with missing values removed: 13
Total rows remaining: 4415

Correlated columns to be dropped:
    AvgCountLineBlank, correlated to: ['AvgCountLine']
    AvgCountLineCode, correlated to: ['AvgCountLine', 'AvgCountLineBlank']
    AvgCyclomaticModified, correlated to: ['AvgCyclomatic']
    AvgCyclomaticStrict, correlated to: ['AvgCyclomatic', 'AvgCyclomaticModified']
    CountDeclClassMethod, correlated to: ['CountDeclClass']
    CountDeclClassVariable, correlated to: ['CountDeclClass', 'CountDeclClassMethod']
    CountDeclFunction, correlated to: ['CountDeclClass', 'CountDeclClassMethod', 'CountDeclClassVariable']
    CountDeclInstanceMethod, correlated to: ['CountDeclClass', 'CountDeclClassMethod', 'CountDeclClassVariable', 'CountDeclFunction']
    CountDeclInstanceVariable, correlated to: ['CountDeclClass', 'CountDeclClassMethod', 'CountDeclClassVariable', 'CountDeclFunction', 'CountDeclInstanceMethod']
    CountDeclMethod, correlated to: ['CountDeclClass', 'CountDeclClassMethod', 'CountDeclClassVariable', 'CountDeclFunction', 'CountDeclInstanceMethod', 'CountDeclInstanceVariable']
    CountDeclMethodDefault, correlated to: ['CountDeclClassMethod']
    CountDeclMethodPrivate, correlated to: ['CountDeclClass', 'CountDeclClassMethod', 'CountDeclClassVariable', 'CountDeclFunction', 'CountDeclInstanceMethod', 'CountDeclInstanceVariable', 'CountDeclMethod', 'CountDeclMethodDefault']
    CountDeclMethodProtected, correlated to: ['CountDeclClass', 'CountDeclClassMethod', 'CountDeclClassVariable', 'CountDeclFunction', 'CountDeclInstanceMethod', 'CountDeclInstanceVariable', 'CountDeclMethod', 'CountDeclMethodDefault', 'CountDeclMethodPrivate']
    CountDeclMethodPublic, correlated to: ['CountDeclClass', 'CountDeclClassMethod', 'CountDeclClassVariable', 'CountDeclFunction', 'CountDeclInstanceMethod', 'CountDeclInstanceVariable', 'CountDeclMethod', 'CountDeclMethodPrivate', 'CountDeclMethodProtected']
    CountLine, correlated to: ['CountDeclClass', 'CountDeclClassMethod', 'CountDeclClassVariable', 'CountDeclFunction', 'CountDeclInstanceMethod', 'CountDeclInstanceVariable', 'CountDeclMethod', 'CountDeclMethodPrivate', 'CountDeclMethodProtected', 'CountDeclMethodPublic']
    CountLineBlank, correlated to: ['CountDeclClass', 'CountDeclClassMethod', 'CountDeclClassVariable', 'CountDeclFunction', 'CountDeclInstanceMethod', 'CountDeclInstanceVariable', 'CountDeclMethod', 'CountDeclMethodPrivate', 'CountDeclMethodProtected', 'CountDeclMethodPublic', 'CountLine']
    CountLineCode, correlated to: ['CountDeclClass', 'CountDeclClassMethod', 'CountDeclClassVariable', 'CountDeclFunction', 'CountDeclInstanceMethod', 'CountDeclInstanceVariable', 'CountDeclMethod', 'CountDeclMethodPrivate', 'CountDeclMethodProtected', 'CountDeclMethodPublic', 'CountLine', 'CountLineBlank']
    CountLineCodeDecl, correlated to: ['CountDeclClass', 'CountDeclClassMethod', 'CountDeclClassVariable', 'CountDeclFunction', 'CountDeclInstanceMethod', 'CountDeclInstanceVariable', 'CountDeclMethod', 'CountDeclMethodPrivate', 'CountDeclMethodProtected', 'CountDeclMethodPublic', 'CountLine', 'CountLineBlank', 'CountLineCode']
    CountLineCodeExe, correlated to: ['CountDeclClass', 'CountDeclClassMethod', 'CountDeclClassVariable', 'CountDeclFunction', 'CountDeclInstanceMethod', 'CountDeclInstanceVariable', 'CountDeclMethod', 'CountDeclMethodPrivate', 'CountDeclMethodProtected', 'CountDeclMethodPublic', 'CountLine', 'CountLineBlank', 'CountLineCode', 'CountLineCodeDecl']
    CountLineComment, correlated to: ['CountDeclClass', 'CountDeclClassMethod', 'CountDeclClassVariable', 'CountDeclFunction', 'CountDeclInstanceMethod', 'CountDeclInstanceVariable', 'CountDeclMethod', 'CountDeclMethodDefault', 'CountDeclMethodPrivate', 'CountDeclMethodProtected', 'CountDeclMethodPublic', 'CountLine', 'CountLineBlank', 'CountLineCode', 'CountLineCodeDecl', 'CountLineCodeExe']
    CountSemicolon, correlated to: ['CountDeclClass', 'CountDeclClassMethod', 'CountDeclClassVariable', 'CountDeclFunction', 'CountDeclInstanceMethod', 'CountDeclInstanceVariable', 'CountDeclMethod', 'CountDeclMethodPrivate', 'CountDeclMethodProtected', 'CountDeclMethodPublic', 'CountLine', 'CountLineBlank', 'CountLineCode', 'CountLineCodeDecl', 'CountLineCodeExe', 'CountLineComment']
    CountStmt, correlated to: ['CountDeclClass', 'CountDeclClassMethod', 'CountDeclClassVariable', 'CountDeclFunction', 'CountDeclInstanceMethod', 'CountDeclInstanceVariable', 'CountDeclMethod', 'CountDeclMethodPrivate', 'CountDeclMethodProtected', 'CountDeclMethodPublic', 'CountLine', 'CountLineBlank', 'CountLineCode', 'CountLineCodeDecl', 'CountLineCodeExe', 'CountLineComment', 'CountSemicolon']
    CountStmtDecl, correlated to: ['CountDeclClass', 'CountDeclClassMethod', 'CountDeclClassVariable', 'CountDeclFunction', 'CountDeclInstanceMethod', 'CountDeclInstanceVariable', 'CountDeclMethod', 'CountDeclMethodPrivate', 'CountDeclMethodProtected', 'CountDeclMethodPublic', 'CountLine', 'CountLineBlank', 'CountLineCode', 'CountLineCodeDecl', 'CountLineCodeExe', 'CountLineComment', 'CountSemicolon', 'CountStmt']
    CountStmtExe, correlated to: ['CountDeclClass', 'CountDeclClassMethod', 'CountDeclClassVariable', 'CountDeclFunction', 'CountDeclInstanceMethod', 'CountDeclInstanceVariable', 'CountDeclMethod', 'CountDeclMethodPrivate', 'CountDeclMethodProtected', 'CountDeclMethodPublic', 'CountLine', 'CountLineBlank', 'CountLineCode', 'CountLineCodeDecl', 'CountLineCodeExe', 'CountLineComment', 'CountSemicolon', 'CountStmt', 'CountStmtDecl']
    MaxCyclomaticModified, correlated to: ['MaxCyclomatic']
    MaxCyclomaticStrict, correlated to: ['MaxCyclomatic', 'MaxCyclomaticModified']
    SumCyclomatic, correlated to: ['CountDeclClass', 'CountDeclClassMethod', 'CountDeclClassVariable', 'CountDeclFunction', 'CountDeclInstanceMethod', 'CountDeclInstanceVariable', 'CountDeclMethod', 'CountDeclMethodPrivate', 'CountDeclMethodProtected', 'CountDeclMethodPublic', 'CountLine', 'CountLineBlank', 'CountLineCode', 'CountLineCodeDecl', 'CountLineCodeExe', 'CountLineComment', 'CountSemicolon', 'CountStmt', 'CountStmtDecl', 'CountStmtExe']
    SumCyclomaticModified, correlated to: ['CountDeclClass', 'CountDeclClassMethod', 'CountDeclClassVariable', 'CountDeclFunction', 'CountDeclInstanceMethod', 'CountDeclInstanceVariable', 'CountDeclMethod', 'CountDeclMethodPrivate', 'CountDeclMethodProtected', 'CountDeclMethodPublic', 'CountLine', 'CountLineBlank', 'CountLineCode', 'CountLineCodeDecl', 'CountLineCodeExe', 'CountLineComment', 'CountSemicolon', 'CountStmt', 'CountStmtDecl', 'CountStmtExe', 'SumCyclomatic']
    SumCyclomaticStrict, correlated to: ['CountDeclClass', 'CountDeclClassMethod', 'CountDeclClassVariable', 'CountDeclFunction', 'CountDeclInstanceMethod', 'CountDeclInstanceVariable', 'CountDeclMethod', 'CountDeclMethodPrivate', 'CountDeclMethodProtected', 'CountDeclMethodPublic', 'CountLine', 'CountLineBlank', 'CountLineCode', 'CountLineCodeDecl', 'CountLineCodeExe', 'CountLineComment', 'CountSemicolon', 'CountStmt', 'CountStmtDecl', 'CountStmtExe', 'SumCyclomatic', 'SumCyclomaticModified']
    SumEssential, correlated to: ['CountDeclClass', 'CountDeclClassMethod', 'CountDeclClassVariable', 'CountDeclFunction', 'CountDeclInstanceMethod', 'CountDeclInstanceVariable', 'CountDeclMethod', 'CountDeclMethodPrivate', 'CountDeclMethodProtected', 'CountDeclMethodPublic', 'CountLine', 'CountLineBlank', 'CountLineCode', 'CountLineCodeDecl', 'CountLineCodeExe', 'CountLineComment', 'CountSemicolon', 'CountStmt', 'CountStmtDecl', 'CountStmtExe', 'SumCyclomatic', 'SumCyclomaticModified', 'SumCyclomaticStrict']
    CountInputMean, correlated to: ['CountInputMin']
    CountOutputMean, correlated to: ['AvgCountLine', 'AvgCountLineCode', 'CountOutputMin']
    MaxNestingMean, correlated to: ['AvgCyclomaticModified', 'MaxNestingMin']

Remove outliers:
    Initial number of rows in the filtered_dataset: 4415
    Initial number of .java files with bug in the filtered_dataset: 640
    IQR_method n argument: 20
    Total number of outliers is: 0
    Final number of rows in the filtered_dataset: 4415
    Final number of .java files with bug in the filtered_dataset: 640

Drop same value columns after outliers removal
Initial columns: 21
Remaining columns (21):
    AvgCountLine
    AvgCountLineComment
    AvgCyclomatic
    AvgEssential
    CountClassBase
    CountClassCoupled
    CountClassDerived
    CountDeclClass
    MaxCyclomatic
    MaxInheritanceTree
    PercentLackOfCohesion
    RatioCommentToCode
    CountInputMin
    CountInputMax
    CountOutputMin
    CountOutputMax
    CountPathMin-divided-by-10,000
    CountPathMean-divided-by-100,000
    CountPathMax-divided-by-1,000,000
    MaxNestingMin
    MaxNestingMax
Dropped same value columns (0):

Variables range:
    AvgCountLine: 0.0 - 355.0
    AvgCountLineComment: 0.0 - 38.0
    AvgCyclomatic: 0.0 - 36.0
    AvgEssential: 0.0 - 13.0
    CountClassBase: 0.0 - 3.3
    CountClassCoupled: 0.0 - 137.0
    CountClassDerived: 0.0 - 34.0
    CountDeclClass: 1.0 - 2105.0
    MaxCyclomatic: 0.0 - 145.0
    MaxInheritanceTree: 0.0 - 8.0
    PercentLackOfCohesion: 0.0 - 100.0
    RatioCommentToCode: 0.0 - 9.7
    CountInputMin: 0.0 - 40.0
    CountInputMax: 0.0 - 371.0
    CountOutputMin: 0.0 - 73.0
    CountOutputMax: 0.0 - 173.0
    CountPathMin-divided-by-10,000: 0.0 - 136.0
    CountPathMean-divided-by-100,000: 0.0 - 478.0
    CountPathMax-divided-by-1,000,000: 0.0 - 1000.0
    MaxNestingMin: 0.0 - 7.0
    MaxNestingMax: 0.0 - 11.0

logistic_regression_clf best params: {'C': 1.0, 'class_weight': None, 'dual': False, 'fit_intercept': True, 'intercept_scaling': 1, 'l1_ratio': None, 'max_iter': 100, 'multi_class': 'deprecated', 'n_jobs': None, 'penalty': 'l2', 'random_state': None, 'solver': 'lbfgs', 'tol': 0.0001, 'verbose': 0, 'warm_start': False}
logistic_regression_clf coefficients: [-2.33005877e-02  1.61431031e-01 -6.05712657e-02  6.59899807e-02
 -8.29816701e-01  2.08708776e-02  4.02408403e-02  1.28782608e-03
  8.63680174e-03  6.95245750e-02  7.64222548e-04 -1.26483643e+00
 -7.30060587e-02  5.61057376e-04 -2.88152406e-03  1.85698817e-02
  5.41986929e-01  3.09547674e-02 -5.01446145e-04  1.51287662e-01
  1.72197153e-01]
logistic_regression_clf intercept_: -1.1158340523898513
Logistic Regression Cross Validation Precision scores are: [0.6        0.5        0.36363636 0.64285714 0.81818182 0.55555556
 1.         0.42857143 0.63636364 0.91666667]
Logistic Regression Average Cross Validation Precision score: 0.6461832611832613
Logistic Regression Cross Validation Precision standard deviation: 0.2073488816544635
Logistic Regression Cross Validation Recall scores are: [0.13953488 0.1627907  0.0952381  0.25       0.20454545 0.22222222
 0.19354839 0.15384615 0.14285714 0.24444444]
Logistic Regression Average Cross Validation Recall score: 0.18090274816456361
Logistic Regression Cross Validation Recall standard deviation: 0.050327232284396534
Logistic Regression classifier performance:
precision: [0.87091757 0.66666667]
recall: [0.98852604 0.13541667]
fscore: [0.92600248 0.22510823]
support: [1133  192]

Logistic Regression classifier performance:
precision: 0.6666666666666666
recall: 0.13541666666666666
fscore: 0.22510822510822512
support: None

Logistic Regression AUC: 0.7635609738158282

10 most relevant features from SelectKBest with mutual_info_classif
    AvgCountLine
    AvgCyclomatic
    CountClassCoupled
    MaxCyclomatic
    MaxInheritanceTree
    PercentLackOfCohesion
    RatioCommentToCode
    CountInputMax
    CountOutputMax
    MaxNestingMax
Alternative nomogram summary
                           Logit Regression Results                           
==============================================================================
Dep. Variable:                   Bugs   No. Observations:                 3090
Model:                          Logit   Df Residuals:                     3068
Method:                           MLE   Df Model:                           21
Date:                Tue, 03 Dec 2024   Pseudo R-squ.:                  0.2036
Time:                        09:23:02   Log-Likelihood:                -1018.6
converged:                      False   LL-Null:                       -1279.0
Covariance Type:            nonrobust   LLR p-value:                 6.933e-97
=====================================================================================================
                                        coef    std err          z      P>|z|      [0.025      0.975]
-----------------------------------------------------------------------------------------------------
const                                -3.1103      0.297    -10.489      0.000      -3.692      -2.529
AvgCountLine                         -0.0080      0.008     -1.031      0.303      -0.023       0.007
AvgCountLineComment                   0.1066      0.030      3.556      0.000       0.048       0.165
AvgCyclomatic                        -0.1083      0.063     -1.710      0.087      -0.233       0.016
AvgEssential                          0.1861      0.084      2.211      0.027       0.021       0.351
CountClassBase                       -0.1187      0.131     -0.904      0.366      -0.376       0.139
CountClassCoupled                     0.0300      0.006      5.292      0.000       0.019       0.041
CountClassDerived                     0.0513      0.034      1.513      0.130      -0.015       0.118
CountDeclClass                        0.0014      0.003      0.519      0.604      -0.004       0.007
MaxCyclomatic                         0.0191      0.009      2.014      0.044       0.001       0.038
MaxInheritanceTree                    0.2525      0.079      3.188      0.001       0.097       0.408
PercentLackOfCohesion                 0.0029      0.002      1.300      0.194      -0.001       0.007
RatioCommentToCode                   -0.6979      0.146     -4.790      0.000      -0.983      -0.412
CountInputMin                        -0.0604      0.051     -1.192      0.233      -0.160       0.039
CountInputMax                         0.0018      0.002      0.761      0.447      -0.003       0.006
CountOutputMin                       -0.0045      0.029     -0.154      0.877      -0.062       0.053
CountOutputMax                        0.0173      0.004      4.421      0.000       0.010       0.025
CountPathMin-divided-by-10,000        3.9063    264.751      0.015      0.988    -514.995     522.808
CountPathMean-divided-by-100,000      0.0213      0.046      0.460      0.645      -0.070       0.112
CountPathMax-divided-by-1,000,000    -0.0010      0.002     -0.670      0.503      -0.004       0.002
MaxNestingMin                        -0.0966      0.203     -0.475      0.635      -0.495       0.302
MaxNestingMax                         0.1674      0.046      3.668      0.000       0.078       0.257
=====================================================================================================

random_forest_clf best params: {'bootstrap': True, 'ccp_alpha': 0.0, 'class_weight': None, 'criterion': 'gini', 'max_depth': 8, 'max_features': 'sqrt', 'max_leaf_nodes': None, 'max_samples': None, 'min_impurity_decrease': 0.0, 'min_samples_leaf': 1, 'min_samples_split': 2, 'min_weight_fraction_leaf': 0.0, 'monotonic_cst': None, 'n_estimators': 200, 'n_jobs': None, 'oob_score': False, 'random_state': 0, 'verbose': 0, 'warm_start': False}
Random Forest Cross Validation Precision scores are: [0.85714286 0.81818182 0.53333333 0.6        1.         0.77777778
 1.         0.75       0.8        0.8       ]
Random Forest Average Cross Validation Precision score: 0.7936435786435786
Random Forest Cross Validation Precision standard deviation: 0.1480603412958705
Random Forest Cross Validation Recall scores are: [0.13953488 0.20930233 0.19047619 0.25       0.27272727 0.31111111
 0.17741935 0.23076923 0.24489796 0.26666667]
Random Forest Average Cross Validation Recall score: 0.229290499507518
Random Forest Cross Validation Recall standard deviation: 0.050887425180748715
Random Forest classifier performance:
precision: [0.88188976 0.76363636]
recall: [0.98852604 0.21875   ]
fscore: [0.93216812 0.34008097]
support: [1133  192]

Random Forest classifier performance:
precision: 0.7636363636363637
recall: 0.21875
fscore: 0.340080971659919
support: None

Random Forest AUC: 0.8100176522506619

Logistic Regression classifier performance:
Logistic Regression Average Cross Validation Precision score: 64.6
Logistic Regression Average Cross Validation Recall score: 18.1
Logistic Regression AUC: 76.4
precision: 66.7
recall: 13.5

Random Forest classifier performance:
Random Forest Average Cross Validation Precision score: 79.4
Random Forest Average Cross Validation Recall score: 22.9
Random Forest AUC: 81.0
precision: 76.4
recall: 21.9

