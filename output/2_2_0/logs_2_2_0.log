VERSION: 2_2_0

Total number of .java files: 4953
Number of .java files in the "files_with_bugs_2_2_0.json": 499
Number of .java files with bug in the filtered_dataset: 474
Missing .java files in the filtered_dataset:
    LlapRandomAccessFileAppender.java
    LlapDaemonExtension.java
    LlapDaemonTestUtils.java
    TestLlapDaemonLogging.java
    DoNothingTCPServer.java
    DoNothingTCPServerExtension.java
    TestDoNothingTCPServerExtension.java
    VectorizedOrcAcidRowBatchReader.java
    LongColModuloLongColumnChecked.java
    OverflowUtils.java
    TestContext.java
    MetastoreDelegationTokenManager.java
    TestJdbcWithDBTokenStoreNoDoAs.java
    BucketCodec.java
    TestTxnCommands2WithSplitUpdate.java
    TestVectorizedOrcAcidRowBatchReader.java
    DagJsonParser.java
    VectorizedParquetRecordReader.java
    LlapDaemonInfo.java
    UserHS2ConnectionFileParser.java
    AndFilter.java
    BasicFilter.java
    DatabaseAndTableFilter.java
    EventBoundaryFilter.java
    MessageFormatFilter.java
    JSONMessageDeserializerTest.java
    JvmMetrics.java
    JvmMetricsInfo.java
    TestHplsqlUdf.java
    LlapDaemonJvmInfo.java
    LlapDaemonJvmMetrics.java
    RenderStrategy.java
    TestGenMapRedUtilsCreateConditionalTask.java
    HiveDruidQueryBasedInputFormat.java
    UDFUUID.java
    TestUDFUUID.java
    GenericUDFRot13.java
    VectorStringRot13.java
    TestAcidOnTezWithSplitUpdate.java
    TestTableOutputFormat.java
    TestBufferedRows.java
    FileMetaInfo.java

Number of combined rows for current and previous versions without duplicates
Initial number of metric columns: 54
Initial number of rows: 4953
Total number of bugs: 474

Initial variable columns: 54

Drop all NaN columns
Remaining columns (54):
    AvgCountLine
    AvgCountLineBlank
    AvgCountLineCode
    AvgCountLineComment
    AvgCyclomatic
    AvgCyclomaticModified
    AvgCyclomaticStrict
    AvgEssential
    CountClassBase
    CountClassCoupled
    CountClassDerived
    CountDeclClass
    CountDeclClassMethod
    CountDeclClassVariable
    CountDeclFunction
    CountDeclInstanceMethod
    CountDeclInstanceVariable
    CountDeclMethod
    CountDeclMethodDefault
    CountDeclMethodPrivate
    CountDeclMethodProtected
    CountDeclMethodPublic
    CountLine
    CountLineBlank
    CountLineCode
    CountLineCodeDecl
    CountLineCodeExe
    CountLineComment
    CountSemicolon
    CountStmt
    CountStmtDecl
    CountStmtExe
    MaxCyclomatic
    MaxCyclomaticModified
    MaxCyclomaticStrict
    MaxInheritanceTree
    PercentLackOfCohesion
    RatioCommentToCode
    SumCyclomatic
    SumCyclomaticModified
    SumCyclomaticStrict
    SumEssential
    CountInputMin
    CountInputMean
    CountInputMax
    CountOutputMin
    CountOutputMean
    CountOutputMax
    CountPathMin-divided-by-10,000
    CountPathMean-divided-by-100,000
    CountPathMax-divided-by-1,000,000
    MaxNestingMin
    MaxNestingMean
    MaxNestingMax
Dropped all NaN columns (0):

Columns with missing values:
    AvgCountLine: 0
    AvgCountLineBlank: 0
    AvgCountLineCode: 0
    AvgCountLineComment: 0
    AvgCyclomatic: 0
    AvgCyclomaticModified: 0
    AvgCyclomaticStrict: 0
    AvgEssential: 0
    CountClassBase: 14
    CountClassCoupled: 14
    CountClassDerived: 14
    CountDeclClass: 0
    CountDeclClassMethod: 0
    CountDeclClassVariable: 0
    CountDeclFunction: 0
    CountDeclInstanceMethod: 0
    CountDeclInstanceVariable: 0
    CountDeclMethod: 0
    CountDeclMethodDefault: 0
    CountDeclMethodPrivate: 0
    CountDeclMethodProtected: 0
    CountDeclMethodPublic: 0
    CountLine: 0
    CountLineBlank: 0
    CountLineCode: 0
    CountLineCodeDecl: 0
    CountLineCodeExe: 0
    CountLineComment: 0
    CountSemicolon: 0
    CountStmt: 0
    CountStmtDecl: 0
    CountStmtExe: 0
    MaxCyclomatic: 0
    MaxCyclomaticModified: 0
    MaxCyclomaticStrict: 0
    MaxInheritanceTree: 14
    PercentLackOfCohesion: 14
    RatioCommentToCode: 0
    SumCyclomatic: 0
    SumCyclomaticModified: 0
    SumCyclomaticStrict: 0
    SumEssential: 0
    CountInputMin: 14
    CountInputMean: 14
    CountInputMax: 14
    CountOutputMin: 14
    CountOutputMean: 14
    CountOutputMax: 14
    CountPathMin-divided-by-10,000: 14
    CountPathMean-divided-by-100,000: 14
    CountPathMax-divided-by-1,000,000: 14
    MaxNestingMin: 14
    MaxNestingMean: 14
    MaxNestingMax: 14
Total rows with missing values removed: 14
Total rows remaining: 4939

Correlated columns to be dropped:
    AvgCountLineBlank, correlated to: ['AvgCountLine']
    AvgCountLineCode, correlated to: ['AvgCountLine', 'AvgCountLineBlank']
    AvgCyclomatic, correlated to: ['AvgCountLineCode']
    AvgCyclomaticModified, correlated to: ['AvgCountLineCode', 'AvgCyclomatic']
    AvgCyclomaticStrict, correlated to: ['AvgCountLineCode', 'AvgCyclomatic', 'AvgCyclomaticModified']
    CountDeclClassMethod, correlated to: ['CountDeclClass']
    CountDeclClassVariable, correlated to: ['CountDeclClass', 'CountDeclClassMethod']
    CountDeclFunction, correlated to: ['CountDeclClass', 'CountDeclClassMethod', 'CountDeclClassVariable']
    CountDeclInstanceMethod, correlated to: ['CountDeclClass', 'CountDeclClassMethod', 'CountDeclClassVariable', 'CountDeclFunction']
    CountDeclInstanceVariable, correlated to: ['CountDeclClass', 'CountDeclClassMethod', 'CountDeclClassVariable', 'CountDeclFunction', 'CountDeclInstanceMethod']
    CountDeclMethod, correlated to: ['CountDeclClass', 'CountDeclClassMethod', 'CountDeclClassVariable', 'CountDeclFunction', 'CountDeclInstanceMethod', 'CountDeclInstanceVariable']
    CountDeclMethodDefault, correlated to: ['CountDeclClassMethod']
    CountDeclMethodPrivate, correlated to: ['CountDeclClass', 'CountDeclClassMethod', 'CountDeclClassVariable', 'CountDeclFunction', 'CountDeclInstanceMethod', 'CountDeclInstanceVariable', 'CountDeclMethod', 'CountDeclMethodDefault']
    CountDeclMethodProtected, correlated to: ['CountDeclClass', 'CountDeclClassMethod', 'CountDeclClassVariable', 'CountDeclFunction', 'CountDeclInstanceMethod', 'CountDeclInstanceVariable', 'CountDeclMethod', 'CountDeclMethodDefault', 'CountDeclMethodPrivate']
    CountDeclMethodPublic, correlated to: ['CountDeclClass', 'CountDeclClassMethod', 'CountDeclClassVariable', 'CountDeclFunction', 'CountDeclInstanceMethod', 'CountDeclInstanceVariable', 'CountDeclMethod', 'CountDeclMethodPrivate', 'CountDeclMethodProtected']
    CountLine, correlated to: ['CountDeclClass', 'CountDeclClassMethod', 'CountDeclClassVariable', 'CountDeclFunction', 'CountDeclInstanceMethod', 'CountDeclInstanceVariable', 'CountDeclMethod', 'CountDeclMethodPrivate', 'CountDeclMethodProtected', 'CountDeclMethodPublic']
    CountLineBlank, correlated to: ['CountDeclClass', 'CountDeclClassMethod', 'CountDeclClassVariable', 'CountDeclFunction', 'CountDeclInstanceMethod', 'CountDeclInstanceVariable', 'CountDeclMethod', 'CountDeclMethodPrivate', 'CountDeclMethodProtected', 'CountDeclMethodPublic', 'CountLine']
    CountLineCode, correlated to: ['CountDeclClass', 'CountDeclClassMethod', 'CountDeclClassVariable', 'CountDeclFunction', 'CountDeclInstanceMethod', 'CountDeclInstanceVariable', 'CountDeclMethod', 'CountDeclMethodPrivate', 'CountDeclMethodProtected', 'CountDeclMethodPublic', 'CountLine', 'CountLineBlank']
    CountLineCodeDecl, correlated to: ['CountDeclClass', 'CountDeclClassMethod', 'CountDeclClassVariable', 'CountDeclFunction', 'CountDeclInstanceMethod', 'CountDeclInstanceVariable', 'CountDeclMethod', 'CountDeclMethodPrivate', 'CountDeclMethodProtected', 'CountDeclMethodPublic', 'CountLine', 'CountLineBlank', 'CountLineCode']
    CountLineCodeExe, correlated to: ['CountDeclClass', 'CountDeclClassMethod', 'CountDeclClassVariable', 'CountDeclFunction', 'CountDeclInstanceMethod', 'CountDeclInstanceVariable', 'CountDeclMethod', 'CountDeclMethodPrivate', 'CountDeclMethodProtected', 'CountDeclMethodPublic', 'CountLine', 'CountLineBlank', 'CountLineCode', 'CountLineCodeDecl']
    CountLineComment, correlated to: ['CountDeclClass', 'CountDeclClassMethod', 'CountDeclClassVariable', 'CountDeclFunction', 'CountDeclInstanceMethod', 'CountDeclInstanceVariable', 'CountDeclMethod', 'CountDeclMethodDefault', 'CountDeclMethodPrivate', 'CountDeclMethodProtected', 'CountDeclMethodPublic', 'CountLine', 'CountLineBlank', 'CountLineCode', 'CountLineCodeDecl', 'CountLineCodeExe']
    CountSemicolon, correlated to: ['CountDeclClass', 'CountDeclClassMethod', 'CountDeclClassVariable', 'CountDeclFunction', 'CountDeclInstanceMethod', 'CountDeclInstanceVariable', 'CountDeclMethod', 'CountDeclMethodPrivate', 'CountDeclMethodProtected', 'CountDeclMethodPublic', 'CountLine', 'CountLineBlank', 'CountLineCode', 'CountLineCodeDecl', 'CountLineCodeExe', 'CountLineComment']
    CountStmt, correlated to: ['CountDeclClass', 'CountDeclClassMethod', 'CountDeclClassVariable', 'CountDeclFunction', 'CountDeclInstanceMethod', 'CountDeclInstanceVariable', 'CountDeclMethod', 'CountDeclMethodPrivate', 'CountDeclMethodProtected', 'CountDeclMethodPublic', 'CountLine', 'CountLineBlank', 'CountLineCode', 'CountLineCodeDecl', 'CountLineCodeExe', 'CountLineComment', 'CountSemicolon']
    CountStmtDecl, correlated to: ['CountDeclClass', 'CountDeclClassMethod', 'CountDeclClassVariable', 'CountDeclFunction', 'CountDeclInstanceMethod', 'CountDeclInstanceVariable', 'CountDeclMethod', 'CountDeclMethodPrivate', 'CountDeclMethodProtected', 'CountDeclMethodPublic', 'CountLine', 'CountLineBlank', 'CountLineCode', 'CountLineCodeDecl', 'CountLineCodeExe', 'CountLineComment', 'CountSemicolon', 'CountStmt']
    CountStmtExe, correlated to: ['CountDeclClass', 'CountDeclClassMethod', 'CountDeclClassVariable', 'CountDeclFunction', 'CountDeclInstanceMethod', 'CountDeclInstanceVariable', 'CountDeclMethod', 'CountDeclMethodPrivate', 'CountDeclMethodProtected', 'CountDeclMethodPublic', 'CountLine', 'CountLineBlank', 'CountLineCode', 'CountLineCodeDecl', 'CountLineCodeExe', 'CountLineComment', 'CountSemicolon', 'CountStmt', 'CountStmtDecl']
    MaxCyclomaticModified, correlated to: ['MaxCyclomatic']
    MaxCyclomaticStrict, correlated to: ['MaxCyclomatic', 'MaxCyclomaticModified']
    SumCyclomatic, correlated to: ['CountDeclClass', 'CountDeclClassMethod', 'CountDeclClassVariable', 'CountDeclFunction', 'CountDeclInstanceMethod', 'CountDeclInstanceVariable', 'CountDeclMethod', 'CountDeclMethodPrivate', 'CountDeclMethodProtected', 'CountDeclMethodPublic', 'CountLine', 'CountLineBlank', 'CountLineCode', 'CountLineCodeDecl', 'CountLineCodeExe', 'CountLineComment', 'CountSemicolon', 'CountStmt', 'CountStmtDecl', 'CountStmtExe']
    SumCyclomaticModified, correlated to: ['CountDeclClass', 'CountDeclClassMethod', 'CountDeclClassVariable', 'CountDeclFunction', 'CountDeclInstanceMethod', 'CountDeclInstanceVariable', 'CountDeclMethod', 'CountDeclMethodPrivate', 'CountDeclMethodProtected', 'CountDeclMethodPublic', 'CountLine', 'CountLineBlank', 'CountLineCode', 'CountLineCodeDecl', 'CountLineCodeExe', 'CountLineComment', 'CountSemicolon', 'CountStmt', 'CountStmtDecl', 'CountStmtExe', 'SumCyclomatic']
    SumCyclomaticStrict, correlated to: ['CountDeclClass', 'CountDeclClassMethod', 'CountDeclClassVariable', 'CountDeclFunction', 'CountDeclInstanceMethod', 'CountDeclInstanceVariable', 'CountDeclMethod', 'CountDeclMethodPrivate', 'CountDeclMethodProtected', 'CountDeclMethodPublic', 'CountLine', 'CountLineBlank', 'CountLineCode', 'CountLineCodeDecl', 'CountLineCodeExe', 'CountLineComment', 'CountSemicolon', 'CountStmt', 'CountStmtDecl', 'CountStmtExe', 'SumCyclomatic', 'SumCyclomaticModified']
    SumEssential, correlated to: ['CountDeclClass', 'CountDeclClassMethod', 'CountDeclClassVariable', 'CountDeclFunction', 'CountDeclInstanceMethod', 'CountDeclInstanceVariable', 'CountDeclMethod', 'CountDeclMethodPrivate', 'CountDeclMethodProtected', 'CountDeclMethodPublic', 'CountLine', 'CountLineBlank', 'CountLineCode', 'CountLineCodeDecl', 'CountLineCodeExe', 'CountLineComment', 'CountSemicolon', 'CountStmt', 'CountStmtDecl', 'CountStmtExe', 'SumCyclomatic', 'SumCyclomaticModified', 'SumCyclomaticStrict']
    CountOutputMean, correlated to: ['AvgCountLine', 'AvgCountLineCode', 'CountOutputMin']
    MaxNestingMean, correlated to: ['MaxNestingMin']

Remove outliers:
    Initial number of rows in the filtered_dataset: 4939
    Initial number of .java files with bug in the filtered_dataset: 474
    IQR_method n argument: 20
    Total number of outliers is: 0
    Final number of rows in the filtered_dataset: 4939
    Final number of .java files with bug in the filtered_dataset: 474

Drop same value columns after outliers removal
Initial columns: 21
Remaining columns (21):
    AvgCountLine
    AvgCountLineComment
    AvgEssential
    CountClassBase
    CountClassCoupled
    CountClassDerived
    CountDeclClass
    MaxCyclomatic
    MaxInheritanceTree
    PercentLackOfCohesion
    RatioCommentToCode
    CountInputMin
    CountInputMean
    CountInputMax
    CountOutputMin
    CountOutputMax
    CountPathMin-divided-by-10,000
    CountPathMean-divided-by-100,000
    CountPathMax-divided-by-1,000,000
    MaxNestingMin
    MaxNestingMax
Dropped same value columns (0):

Variables range:
    AvgCountLine: 0.0 - 355.0
    AvgCountLineComment: 0.0 - 38.0
    AvgEssential: 0.0 - 13.0
    CountClassBase: 0.0 - 5.0
    CountClassCoupled: 0.0 - 149.0
    CountClassDerived: 0.0 - 34.0
    CountDeclClass: 1.0 - 2409.0
    MaxCyclomatic: 0.0 - 145.0
    MaxInheritanceTree: 0.0 - 8.0
    PercentLackOfCohesion: 0.0 - 100.0
    RatioCommentToCode: 0.0 - 9.7
    CountInputMin: 0.0 - 40.0
    CountInputMean: 0.0 - 55.5
    CountInputMax: 0.0 - 398.0
    CountOutputMin: 0.0 - 73.0
    CountOutputMax: 0.0 - 197.0
    CountPathMin-divided-by-10,000: 0.0 - 136.0
    CountPathMean-divided-by-100,000: 0.0 - 401.0
    CountPathMax-divided-by-1,000,000: 0.0 - 1000.0
    MaxNestingMin: 0.0 - 7.0
    MaxNestingMax: 0.0 - 11.0

logistic_regression_clf best params: {'C': 1.0, 'class_weight': None, 'dual': False, 'fit_intercept': True, 'intercept_scaling': 1, 'l1_ratio': None, 'max_iter': 500, 'multi_class': 'deprecated', 'n_jobs': None, 'penalty': None, 'random_state': None, 'solver': 'sag', 'tol': 0.0001, 'verbose': 0, 'warm_start': False}
logistic_regression_clf coefficients: [-6.96909616e-03  3.45917199e-02 -1.96027740e-01 -3.24891251e-01
  1.21013390e-02 -6.02711872e-02 -1.10401676e-02  1.24413573e-02
 -4.63630122e-01 -8.07357091e-03 -3.37773917e-01 -1.03866951e-01
 -5.49063308e-02 -6.86275973e-05 -1.12248049e-01  2.57148018e-02
 -1.08372339e-04  1.31149176e-02 -6.30888593e-04 -1.59176618e-02
 -5.00594344e-02]
logistic_regression_clf intercept_: -0.2769499921001964
Logistic Regression Cross Validation Precision scores are: [1.         0.2        0.75       0.33333333 1.         0.11111111
 0.5        0.         1.         0.25      ]
Logistic Regression Average Cross Validation Precision score: 0.5144444444444444
Logistic Regression Cross Validation Precision standard deviation: 0.39326636801790177
Logistic Regression Cross Validation Recall scores are: [0.13513514 0.04347826 0.09090909 0.02941176 0.05882353 0.02857143
 0.05555556 0.         0.05555556 0.03030303]
Logistic Regression Average Cross Validation Recall score: 0.052774335101700834
Logistic Regression Cross Validation Recall standard deviation: 0.0377090049218822
Logistic Regression classifier performance:
precision: [0.90716724 0.35294118]
recall: [0.99179104 0.04225352]
fscore: [0.94759358 0.0754717 ]
support: [1340  142]

Logistic Regression classifier performance:
precision: 0.35294117647058826
recall: 0.04225352112676056
fscore: 0.07547169811320754
support: None

Logistic Regression AUC: 0.7047640319529116

10 most relevant features from SelectKBest with mutual_info_classif
    CountClassBase
    CountClassCoupled
    CountDeclClass
    MaxCyclomatic
    MaxInheritanceTree
    RatioCommentToCode
    CountInputMean
    CountInputMax
    CountOutputMax
    MaxNestingMax
Alternative nomogram summary
                           Logit Regression Results                           
==============================================================================
Dep. Variable:                   Bugs   No. Observations:                 3457
Model:                          Logit   Df Residuals:                     3435
Method:                           MLE   Df Model:                           21
Date:                Tue, 03 Dec 2024   Pseudo R-squ.:                  0.1321
Time:                        09:25:21   Log-Likelihood:                -948.95
converged:                      False   LL-Null:                       -1093.4
Covariance Type:            nonrobust   LLR p-value:                 5.702e-49
=====================================================================================================
                                        coef    std err          z      P>|z|      [0.025      0.975]
-----------------------------------------------------------------------------------------------------
const                                -2.1303      0.274     -7.766      0.000      -2.668      -1.593
AvgCountLine                         -0.0007      0.006     -0.107      0.915      -0.013       0.011
AvgCountLineComment                   0.0031      0.032      0.097      0.923      -0.059       0.065
AvgEssential                         -0.0419      0.085     -0.493      0.622      -0.209       0.125
CountClassBase                       -0.2633      0.133     -1.982      0.047      -0.524      -0.003
CountClassCoupled                     0.0137      0.006      2.379      0.017       0.002       0.025
CountClassDerived                    -0.0775      0.076     -1.020      0.308      -0.227       0.072
CountDeclClass                        0.0047      0.005      0.878      0.380      -0.006       0.015
MaxCyclomatic                        -0.0011      0.008     -0.137      0.891      -0.016       0.014
MaxInheritanceTree                   -0.5519      0.108     -5.132      0.000      -0.763      -0.341
PercentLackOfCohesion                 0.0015      0.002      0.623      0.533      -0.003       0.006
RatioCommentToCode                   -0.1252      0.073     -1.719      0.086      -0.268       0.018
CountInputMin                        -0.1123      0.055     -2.041      0.041      -0.220      -0.004
CountInputMean                        0.0777      0.027      2.857      0.004       0.024       0.131
CountInputMax                        -0.0024      0.002     -0.962      0.336      -0.007       0.002
CountOutputMin                        0.0119      0.027      0.450      0.653      -0.040       0.064
CountOutputMax                        0.0241      0.004      6.334      0.000       0.017       0.032
CountPathMin-divided-by-10,000       -5.4237   6.39e+05  -8.49e-06      1.000   -1.25e+06    1.25e+06
CountPathMean-divided-by-100,000      0.0146      0.014      1.075      0.283      -0.012       0.041
CountPathMax-divided-by-1,000,000    -0.0009      0.001     -0.899      0.369      -0.003       0.001
MaxNestingMin                        -0.3962      0.238     -1.663      0.096      -0.863       0.071
MaxNestingMax                         0.1202      0.045      2.680      0.007       0.032       0.208
=====================================================================================================

random_forest_clf best params: {'bootstrap': True, 'ccp_alpha': 0.0, 'class_weight': None, 'criterion': 'gini', 'max_depth': 8, 'max_features': 'sqrt', 'max_leaf_nodes': None, 'max_samples': None, 'min_impurity_decrease': 0.0, 'min_samples_leaf': 1, 'min_samples_split': 2, 'min_weight_fraction_leaf': 0.0, 'monotonic_cst': None, 'n_estimators': 100, 'n_jobs': None, 'oob_score': False, 'random_state': 0, 'verbose': 0, 'warm_start': False}
Random Forest Cross Validation Precision scores are: [1.         0.         0.8        0.66666667 0.75       0.33333333
 1.         1.         1.         0.66666667]
Random Forest Average Cross Validation Precision score: 0.7216666666666667
Random Forest Cross Validation Precision standard deviation: 0.3324107603256052
Random Forest Cross Validation Recall scores are: [0.10810811 0.         0.12121212 0.11764706 0.08823529 0.08571429
 0.13888889 0.06451613 0.13888889 0.06060606]
Random Forest Average Cross Validation Recall score: 0.09238168353917879
Random Forest Cross Validation Recall standard deviation: 0.04271988294116837
Random Forest classifier performance:
precision: [0.91144414 0.85714286]
recall: [0.99850746 0.08450704]
fscore: [0.95299145 0.15384615]
support: [1340  142]

Random Forest classifier performance:
precision: 0.8571428571428571
recall: 0.08450704225352113
fscore: 0.15384615384615385
support: None

Random Forest AUC: 0.8187460584401934

Logistic Regression classifier performance:
Logistic Regression Average Cross Validation Precision score: 51.4
Logistic Regression Average Cross Validation Recall score: 5.3
Logistic Regression AUC: 70.5
precision: 35.3
recall: 4.2

Random Forest classifier performance:
Random Forest Average Cross Validation Precision score: 72.2
Random Forest Average Cross Validation Recall score: 9.2
Random Forest AUC: 81.9
precision: 85.7
recall: 8.5

